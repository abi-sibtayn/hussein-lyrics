<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hussein Lyrics</title>

  <style>
    body {
      background-color: #f4f1ec;
      color: #000000;
      font-family: Georgia, "Times New Roman", serif;
      margin: 0;
      padding: 0;
    }

    .container {
      width: 80%;
      margin: auto;
      padding: 40px;
    }

    h1 {
      text-align: center;
      font-size: 48px;
      letter-spacing: 2px;
    }

    h2 {
      border-bottom: 1px solid;
      padding-bottom: 5px;
    }

    p {
      font-size: 18px;
      line-height: 1.6;
    }

    ul {
      font-size: 18px;
    }

    a {
      color: inherit;
      text-decoration: underline;
    }

    .lyrics-link {
      display: block;
      margin: 8px 0;
      font-size: 18px;
    }

    .settings-btn {
      position: fixed;
      top: 15px;
      right: 15px;
      border: 1px solid;
      background: none;
      padding: 6px 10px;
      cursor: pointer;
      font-family: inherit;
      color: inherit;
    }

    .settings-panel {
      position: fixed;
      top: 60px;
      right: 15px;
      border: 1px solid;
      padding: 15px;
      display: none;
      background-color: inherit;
      color: inherit;
    }

    .settings-panel button {
      display: block;
      width: 100%;
      margin: 6px 0;
      font-family: inherit;
      cursor: pointer;
    }

    .footer {
      margin-top: 60px;
      font-size: 14px;
      text-align: center;
      opacity: 0.7;
    }
  </style>

  <script>
    /* ============================
       ADD YOUR .template FILES HERE
       One line per lyrics file
       ============================ */
    const templateFiles = [
      "abb-tu-ghazi.template"
      // add more files with commas
    ];

    function toggleSettings() {
      const panel = document.getElementById("settings");
      panel.style.display = panel.style.display === "block" ? "none" : "block";
    }

    function darkMode() {
      document.body.style.backgroundColor = "#0e0e0e";
      document.body.style.color = "#ffffff";
    }

    function lightMode() {
      document.body.style.backgroundColor = "#f4f1ec";
      document.body.style.color = "#000000";
    }

    async function loadIndex() {
      const list = document.getElementById("lyrics-list");

      for (const file of templateFiles) {
        try {
          const res = await fetch(file);
          const text = await res.text();
          const data = parseTemplate(text);

          const link = document.createElement("a");
          link.className = "lyrics-link";
          link.href = `lyrics.html?file=${file}`;
          link.textContent = data.name || file;

          list.appendChild(link);
        } catch (e) {
          console.error("Failed to load:", file);
        }
      }
    }

    function parseTemplate(text) {
      const lines = text.split("\n");
      const data = {};
      for (const line of lines) {
        if (line.startsWith("name:")) {
          data.name = line.replace("name:", "").trim();
          break;
        }
      }
      return data;
    }

    window.onload = loadIndex;
  </script>
</head>

<body>

  <button class="settings-btn" onclick="toggleSettings()">‚öô Settings</button>

  <div id="settings" class="settings-panel">
    <button onclick="darkMode()">üñ§ Dark Mode</button>
    <button onclick="lightMode()">ü§ç Light Mode</button>
    <button onclick="toggleSettings()">Close</button>
  </div>

  <div class="container">

    <h1>HUSSEIN LYRICS</h1>

    <p align="center">
      <i>
        A quiet archive of nauha, latmiya, qasidah, manqabat, and merciya lyrics<br>
        written in remembrance of Aba  øAbdillah al-Husayn (ÿπ)
      </i>
    </p>

    <hr>

    <h2>About This Site</h2>
    <p>
      <b>Hussein Lyrics</b> is a simple archive dedicated to preserving the words
      recited in mourning and devotion for the Ahl al-Bayt (ÿπ).
    </p>

    <p>
      This site is intentionally minimal. No distractions. No algorithms.
      Just words meant to be cried, whispered, and remembered.
    </p>

    <h2>What You‚Äôll Find</h2>
    <ul>
      <li>Nauha lyrics</li>
      <li>Latmiya lyrics</li>
      <li>Qasidah lyrics</li>
      <li>Manqabat lyrics</li>
      <li>Merciya lyrics</li>
    </ul>

    <hr>

    <h2>Lyrics Index</h2>

    <div id="lyrics-list">
      <!-- links auto-generated here -->
    </div>

    <div class="footer">
      Ya Husayn (ÿπ)<br>
      Made by the <b>Abi Sibtayn Community</b>
    </div>

  </div>

</body>
</html>
